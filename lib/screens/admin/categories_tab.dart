\nimport \'package:cloud_firestore/cloud_firestore.dart\';\nimport \'package:flutter/material.dart\';\nimport \'package:myapp/constants.dart\';\nimport \'package:myapp/screens/admin/add_edit_category_screen.dart\';\n\nclass CategoriesTab extends StatelessWidget {\n  const CategoriesTab({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: StreamBuilder<QuerySnapshot>(\n        stream: FirebaseFirestore.instance.collection(CATEGORIES_COLLECTION_PATH).snapshots(),\n        builder: (context, snapshot) {\n          if (snapshot.hasError) {\n            return const Center(child: Text(\'Something went wrong\'));\n          }\n\n          if (snapshot.connectionState == ConnectionState.waiting) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (snapshot.data!.docs.isEmpty) {\n            return const Center(child: Text(\'No categories found. Add one!\'));\n          }\n\n          return ListView.builder(\n            itemCount: snapshot.data!.docs.length,\n            itemBuilder: (context, index) {\n              final doc = snapshot.data!.docs[index];\n              final category = doc.data() as Map<String, dynamic>;\n\n              return Card(\n                margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n                child: ListTile(\n                  title: Text(category[\'name\'] ?? \'No Name\'),\n                  trailing: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      IconButton(\n                        icon: const Icon(Icons.edit, color: Colors.blue),\n                        onPressed: () {\n                          Navigator.of(context).push(\n                            MaterialPageRoute(\n                              builder: (context) => AddEditCategoryScreen(documentId: doc.id),\n                            ),\n                          );\n                        },\n                      ),\n                      IconButton(\n                        icon: const Icon(Icons.delete, color: Colors.red),\n                        onPressed: () async {\n                          final confirm = await showDialog(\n                            context: context,\n                            builder: (context) => AlertDialog(\n                              title: const Text(\'Are you sure?\'),\n                              content: const Text(\'Do you want to delete this category?\'),\n                              actions: [\n                                TextButton(onPressed: () => Navigator.of(context).pop(false), child: const Text(\'No\')),\n                                TextButton(onPressed: () => Navigator.of(context).pop(true), child: const Text(\'Yes\')),\n                              ],\n                            ),\n                          );\n                          if (confirm == true) {\n                            await FirebaseFirestore.instance.collection(CATEGORIES_COLLECTION_PATH).doc(doc.id).delete();\n                          }\n                        },\n                      ),\n                    ],\n                  ),\n                ),\n              );\n            },          );\n        },      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          Navigator.of(context).push(\n            MaterialPageRoute(\n              builder: (context) => const AddEditCategoryScreen(),\n            ),\n          );\n        },\n        child: const Icon(Icons.add),\n        tooltip: \'Add Category\',\n      ),\n    );\n  }\n}\n